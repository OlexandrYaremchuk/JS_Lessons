{"ast":null,"code":"import { createRenderStep } from './create-render-step.mjs';\nimport { frameData } from './data.mjs';\nvar maxElapsed = 40;\nvar useDefaultElapsed = true;\nvar runNextFrame = false;\nvar stepsOrder = [\"read\", \"update\", \"preRender\", \"render\", \"postRender\"];\nvar steps = stepsOrder.reduce(function (acc, key) {\n  acc[key] = createRenderStep(function () {\n    return runNextFrame = true;\n  });\n  return acc;\n}, {});\nvar sync = stepsOrder.reduce(function (acc, key) {\n  var step = steps[key];\n  acc[key] = function (process) {\n    var keepAlive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var immediate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    if (!runNextFrame) startLoop();\n    return step.schedule(process, keepAlive, immediate);\n  };\n  return acc;\n}, {});\nvar cancelSync = stepsOrder.reduce(function (acc, key) {\n  acc[key] = steps[key].cancel;\n  return acc;\n}, {});\nvar flushSync = stepsOrder.reduce(function (acc, key) {\n  acc[key] = function () {\n    return steps[key].process(frameData);\n  };\n  return acc;\n}, {});\nvar processStep = function processStep(stepId) {\n  return steps[stepId].process(frameData);\n};\nvar processFrame = function processFrame(timestamp) {\n  runNextFrame = false;\n  frameData.delta = useDefaultElapsed ? 1000 / 60 : Math.max(Math.min(timestamp - frameData.timestamp, maxElapsed), 1);\n  frameData.timestamp = timestamp;\n  frameData.isProcessing = true;\n  stepsOrder.forEach(processStep);\n  frameData.isProcessing = false;\n  if (runNextFrame) {\n    useDefaultElapsed = false;\n    requestAnimationFrame(processFrame);\n  }\n};\nvar startLoop = function startLoop() {\n  runNextFrame = true;\n  useDefaultElapsed = true;\n  if (!frameData.isProcessing) requestAnimationFrame(processFrame);\n};\nexport { cancelSync, flushSync, sync };","map":{"version":3,"names":["createRenderStep","frameData","maxElapsed","useDefaultElapsed","runNextFrame","stepsOrder","steps","reduce","acc","key","sync","step","process","keepAlive","immediate","startLoop","schedule","cancelSync","cancel","flushSync","processStep","stepId","processFrame","timestamp","delta","Math","max","min","isProcessing","forEach","requestAnimationFrame"],"sources":["/Users/macbook/Documents/Java Script/JS_Lessons/node_modules/framer-motion/dist/es/frameloop/index.mjs"],"sourcesContent":["import { createRenderStep } from './create-render-step.mjs';\nimport { frameData } from './data.mjs';\n\nconst maxElapsed = 40;\nlet useDefaultElapsed = true;\nlet runNextFrame = false;\nconst stepsOrder = [\n    \"read\",\n    \"update\",\n    \"preRender\",\n    \"render\",\n    \"postRender\",\n];\nconst steps = stepsOrder.reduce((acc, key) => {\n    acc[key] = createRenderStep(() => (runNextFrame = true));\n    return acc;\n}, {});\nconst sync = stepsOrder.reduce((acc, key) => {\n    const step = steps[key];\n    acc[key] = (process, keepAlive = false, immediate = false) => {\n        if (!runNextFrame)\n            startLoop();\n        return step.schedule(process, keepAlive, immediate);\n    };\n    return acc;\n}, {});\nconst cancelSync = stepsOrder.reduce((acc, key) => {\n    acc[key] = steps[key].cancel;\n    return acc;\n}, {});\nconst flushSync = stepsOrder.reduce((acc, key) => {\n    acc[key] = () => steps[key].process(frameData);\n    return acc;\n}, {});\nconst processStep = (stepId) => steps[stepId].process(frameData);\nconst processFrame = (timestamp) => {\n    runNextFrame = false;\n    frameData.delta = useDefaultElapsed\n        ? 1000 / 60\n        : Math.max(Math.min(timestamp - frameData.timestamp, maxElapsed), 1);\n    frameData.timestamp = timestamp;\n    frameData.isProcessing = true;\n    stepsOrder.forEach(processStep);\n    frameData.isProcessing = false;\n    if (runNextFrame) {\n        useDefaultElapsed = false;\n        requestAnimationFrame(processFrame);\n    }\n};\nconst startLoop = () => {\n    runNextFrame = true;\n    useDefaultElapsed = true;\n    if (!frameData.isProcessing)\n        requestAnimationFrame(processFrame);\n};\n\nexport { cancelSync, flushSync, sync };\n"],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,0BAA0B;AAC3D,SAASC,SAAS,QAAQ,YAAY;AAEtC,IAAMC,UAAU,GAAG,EAAE;AACrB,IAAIC,iBAAiB,GAAG,IAAI;AAC5B,IAAIC,YAAY,GAAG,KAAK;AACxB,IAAMC,UAAU,GAAG,CACf,MAAM,EACN,QAAQ,EACR,WAAW,EACX,QAAQ,EACR,YAAY,CACf;AACD,IAAMC,KAAK,GAAGD,UAAU,CAACE,MAAM,CAAC,UAACC,GAAG,EAAEC,GAAG,EAAK;EAC1CD,GAAG,CAACC,GAAG,CAAC,GAAGT,gBAAgB,CAAC;IAAA,OAAOI,YAAY,GAAG,IAAI;EAAA,CAAC,CAAC;EACxD,OAAOI,GAAG;AACd,CAAC,EAAE,CAAC,CAAC,CAAC;AACN,IAAME,IAAI,GAAGL,UAAU,CAACE,MAAM,CAAC,UAACC,GAAG,EAAEC,GAAG,EAAK;EACzC,IAAME,IAAI,GAAGL,KAAK,CAACG,GAAG,CAAC;EACvBD,GAAG,CAACC,GAAG,CAAC,GAAG,UAACG,OAAO,EAA2C;IAAA,IAAzCC,SAAS,uEAAG,KAAK;IAAA,IAAEC,SAAS,uEAAG,KAAK;IACrD,IAAI,CAACV,YAAY,EACbW,SAAS,EAAE;IACf,OAAOJ,IAAI,CAACK,QAAQ,CAACJ,OAAO,EAAEC,SAAS,EAAEC,SAAS,CAAC;EACvD,CAAC;EACD,OAAON,GAAG;AACd,CAAC,EAAE,CAAC,CAAC,CAAC;AACN,IAAMS,UAAU,GAAGZ,UAAU,CAACE,MAAM,CAAC,UAACC,GAAG,EAAEC,GAAG,EAAK;EAC/CD,GAAG,CAACC,GAAG,CAAC,GAAGH,KAAK,CAACG,GAAG,CAAC,CAACS,MAAM;EAC5B,OAAOV,GAAG;AACd,CAAC,EAAE,CAAC,CAAC,CAAC;AACN,IAAMW,SAAS,GAAGd,UAAU,CAACE,MAAM,CAAC,UAACC,GAAG,EAAEC,GAAG,EAAK;EAC9CD,GAAG,CAACC,GAAG,CAAC,GAAG;IAAA,OAAMH,KAAK,CAACG,GAAG,CAAC,CAACG,OAAO,CAACX,SAAS,CAAC;EAAA;EAC9C,OAAOO,GAAG;AACd,CAAC,EAAE,CAAC,CAAC,CAAC;AACN,IAAMY,WAAW,GAAG,SAAdA,WAAW,CAAIC,MAAM;EAAA,OAAKf,KAAK,CAACe,MAAM,CAAC,CAACT,OAAO,CAACX,SAAS,CAAC;AAAA;AAChE,IAAMqB,YAAY,GAAG,SAAfA,YAAY,CAAIC,SAAS,EAAK;EAChCnB,YAAY,GAAG,KAAK;EACpBH,SAAS,CAACuB,KAAK,GAAGrB,iBAAiB,GAC7B,IAAI,GAAG,EAAE,GACTsB,IAAI,CAACC,GAAG,CAACD,IAAI,CAACE,GAAG,CAACJ,SAAS,GAAGtB,SAAS,CAACsB,SAAS,EAAErB,UAAU,CAAC,EAAE,CAAC,CAAC;EACxED,SAAS,CAACsB,SAAS,GAAGA,SAAS;EAC/BtB,SAAS,CAAC2B,YAAY,GAAG,IAAI;EAC7BvB,UAAU,CAACwB,OAAO,CAACT,WAAW,CAAC;EAC/BnB,SAAS,CAAC2B,YAAY,GAAG,KAAK;EAC9B,IAAIxB,YAAY,EAAE;IACdD,iBAAiB,GAAG,KAAK;IACzB2B,qBAAqB,CAACR,YAAY,CAAC;EACvC;AACJ,CAAC;AACD,IAAMP,SAAS,GAAG,SAAZA,SAAS,GAAS;EACpBX,YAAY,GAAG,IAAI;EACnBD,iBAAiB,GAAG,IAAI;EACxB,IAAI,CAACF,SAAS,CAAC2B,YAAY,EACvBE,qBAAqB,CAACR,YAAY,CAAC;AAC3C,CAAC;AAED,SAASL,UAAU,EAAEE,SAAS,EAAET,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}